undo log

是一条条历史记录，这些记录通过事物id和回滚指针组成一个版本链

read view

read view 如何判断版本链中的哪个版本可用的？



活跃事务（活跃事务就是没提交的事务）集合， 没有commit的

当前事务id，

集合中的最小值，

集合中最大值的下个值

都是select查出的最新数据事务id跟四个变量进行比较判断的。判断方法可以逆推，就是凡是小于最小值，不包含活跃事务里面的，刚好等于当前事务的id，都可以查询最新值。其他任何情况都要一直递归查询undo日志，直到符合这三个条件为止。